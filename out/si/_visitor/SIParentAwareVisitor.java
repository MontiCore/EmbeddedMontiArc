/* generated by template visitor.ParentAwareVisitor*/



package si._visitor;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Optional;
import java.util.Stack;

import si._ast.ASTSINode;
import de.monticore.ast.ASTNode;


/**
* The ParentAwareVisitor of the language keeps track of the parent nodes during a traversal.<br/>
* <br/>
* <b>Access current parent</b>: use {@code getParent()} to access the current parent.<br/>
* <br/>
* <b>Access the complete parents list:</b> use {@code getParents()} to access a list of all parents.<br/>
*/
public abstract class SIParentAwareVisitor  implements SIVisitor {

  final Stack<ASTSINode> parents = new Stack<>();

  public Optional<ASTSINode> getParent() {
    if (!parents.isEmpty()) {
      ASTSINode topElement = (ASTSINode) parents.peek();
      return Optional.of(topElement);
    }
    // no parent, return an absent value
    return Optional.empty();
  }

  public List<ASTSINode> getParents() {
    return new ArrayList<>(parents);
  }

      @Override
      public void traverse(si._ast.ASTNumber node) {
        parents.push(node);
        SIVisitor.super.traverse(node);
        parents.pop();
      }
      @Override
      public void traverse(si._ast.ASTFloatPointUnitNumber node) {
        parents.push(node);
        SIVisitor.super.traverse(node);
        parents.pop();
      }
      @Override
      public void traverse(si._ast.ASTHexUnitNumber node) {
        parents.push(node);
        SIVisitor.super.traverse(node);
        parents.pop();
      }
      @Override
      public void traverse(si._ast.ASTUnitNumber node) {
        parents.push(node);
        SIVisitor.super.traverse(node);
        parents.pop();
      }
      @Override
      public void traverse(si._ast.ASTComplexNumber node) {
        parents.push(node);
        SIVisitor.super.traverse(node);
        parents.pop();
      }
}
