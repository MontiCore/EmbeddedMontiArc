<div class="uk-height-1-1 content-container">
    <form class="uk-flex uk-flex-column uk-height-1-1">
        <div class="controls">
            <button mat-fab (click)="addState()" matTooltip="Add Extension" matTooltipPosition="before">
                <mat-icon>add</mat-icon>
            </button>
        </div>
        <div class="uk-flex-1 form-container">
            <fieldset *ngFor="let state of states" class="extension-form" [disabled]="state.saved" [style.opacity]="state.saved ? 0.7 : 1.0">
                <legend class="legend">
                    <button mat-mini-fab matTooltip="Remove Extension" matTooltipPosition="before" (click)="removeState(state)" *ngIf="!state.saved">
                        <mat-icon>clear</mat-icon>
                    </button>
                    <span class="stamp is-approved" *ngIf="state.saved">Saved</span>
                </legend>
                <app-extension-form [state]="state"></app-extension-form>
            </fieldset>
        </div>
        <div class="controls">
            <button *ngIf="hasStates() && !isSaving()" type="submit" mat-raised-button
                    color="accent" matTooltip="Save Extensions" matTooltipPosition="before"
                    [disabled]="hasErrors()" (click)="apply()">Save</button>
            <mat-progress-bar color="accent" mode="indeterminate" *ngIf="isSaving()"></mat-progress-bar>
        </div>
    </form>
</div>