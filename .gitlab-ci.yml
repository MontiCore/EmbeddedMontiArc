stages:
  - installation
  - build
  - documentation

cache:
  paths:
    - node_modules/
    - theia/
    - docs/
    - packages/*/lib/
    - plugins/*/lib/

installation:
  stage: installation
  image: node:9.9.0
  script:
    - apt-get update -yq
    - apt-get install -y build-essential
    - yarn install && yarn run download

build:
  stage: build
  image: node:9.9.0
  script: yarn run build

documentation:
  stage: documentation
  image: node:9.9.0
  script: yarn run documentation